/*!Pal.JS: 2013 (C) Eddie Antonio Santos. MIT license.*/
PalParser=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){var b={};for(var c in a)b[c]=a[c];return b}function e(a,c){for(var d=a.offset+c,e=a.offset;d>e;e++){var f=b.charAt(e);"\n"===f?(a.seenCR||a.line++,a.column=1,a.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1)}a.offset+=c}function f(a){wc.offset<yc.offset||(wc.offset>yc.offset&&(yc=d(wc),zc=[]),zc.push(a))}function g(){var a,b,c,e,f,g;return f=d(wc),g=d(wc),a=ic(),null!==a?(b=h(),null!==b?(c=j(),null!==c?(e=fb(),null!==e?a=[a,b,c,e]:(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"program",loc:[b,c],head:d,declarations:e}}(f.offset,f.line,f.column,a[1],a[2])),null===a&&(wc=d(f)),a}function h(){var a,b,c,e,f,g;return f=d(wc),g=d(wc),a=zb(),null!==a?(b=Xb(),null!==b?(c=i(),null!==c?(e=mb(),null!==e?a=[a,b,c,e]:(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"program_head",loc:[b,c],name:d,files:e}}(f.offset,f.line,f.column,a[1],a[2])),null===a&&(wc=d(f)),a}function i(){var a,b,c,e,f,g,h;return g=d(wc),h=d(wc),a=gb(),null!==a?(b=Xb(),null!==b?(c=kb(),null!==c?(e=Xb(),null!==e?(f=hb(),null!==f?a=[a,b,c,e,f]:(a=null,wc=d(h))):(a=null,wc=d(h))):(a=null,wc=d(h))):(a=null,wc=d(h))):(a=null,wc=d(h)),null!==a&&(a=function(a,b,c,d,e){return{ast:"program_files",loc:[b,c],input:d,output:e}}(g.offset,g.line,g.column,a[1],a[3])),null===a&&(wc=d(g)),a}function j(){var a,b,c,e,f,g,h;return g=d(wc),h=d(wc),a=k(),a=null!==a?a:"",null!==a?(b=l(),b=null!==b?b:"",null!==b?(c=m(),c=null!==c?c:"",null!==c?(e=n(),e=null!==e?e:"",null!==e?(f=v(),null!==f?a=[a,b,c,e,f]:(a=null,wc=d(h))):(a=null,wc=d(h))):(a=null,wc=d(h))):(a=null,wc=d(h))):(a=null,wc=d(h)),null!==a&&(a=function(a,b,c,d,e,f,g,h){return{ast:"declarations",loc:[b,c],constants:d||[],types:e||[],vars:f||[],subroutines:g||[],body:h}}(g.offset,g.line,g.column,a[0],a[1],a[2],a[3],a[4])),null===a&&(wc=d(g)),a}function k(){var a,b,c,e,f;if(e=d(wc),f=d(wc),a=Cb(),null!==a){if(c=r(),null!==c)for(b=[];null!==c;)b.push(c),c=r();else b=null;null!==b?a=[a,b]:(a=null,wc=d(f))}else a=null,wc=d(f);return null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),a}function l(){var a,b,c,e,f;if(e=d(wc),f=d(wc),a=Db(),null!==a){if(c=s(),null!==c)for(b=[];null!==c;)b.push(c),c=s();else b=null;null!==b?a=[a,b]:(a=null,wc=d(f))}else a=null,wc=d(f);return null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),a}function m(){var a,b,c,e,f;if(e=d(wc),f=d(wc),a=Eb(),null!==a){if(c=t(),null!==c)for(b=[];null!==c;)b.push(c),c=t();else b=null;null!==b?a=[a,b]:(a=null,wc=d(f))}else a=null,wc=d(f);return null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),a}function n(){var a,b,c;if(c=d(wc),b=o(),null!==b)for(a=[];null!==b;)a.push(b),b=o();else a=null;return null!==a&&(a=function(a,b,c,d){return d}(c.offset,c.line,c.column,a)),null===a&&(wc=d(c)),a}function o(){var a,b,c,e,f,g;return f=d(wc),g=d(wc),a=p(),null===a&&(a=q()),null!==a?(b=mb(),null!==b?(c=j(),null!==c?(e=mb(),null!==e?a=[a,b,c,e]:(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g)),null!==a&&(a=function(a,b,c,d,e){return d.declarations=e,d}(f.offset,f.line,f.column,a[0],a[2])),null===a&&(wc=d(f)),a}function p(){var a,b,c,e,f,g,h;return g=d(wc),h=d(wc),a=Gb(),null!==a?(b=Xb(),null!==b?(c=fc(),null!==c?(e=lb(),null!==e?(f=Y(),null!==f?a=[a,b,c,e,f]:(a=null,wc=d(h))):(a=null,wc=d(h))):(a=null,wc=d(h))):(a=null,wc=d(h))):(a=null,wc=d(h)),null!==a&&(a=function(a,b,c,d,e,f){return{ast:"function",loc:[b,c],name:d,params:e,rtype:f}}(g.offset,g.line,g.column,a[1],a[2],a[4])),null===a&&(wc=d(g)),a}function q(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=Fb(),null!==a?(b=Xb(),null!==b?(c=fc(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d,e){return{ast:"procedure",loc:[b,c],name:d,params:e}}(e.offset,e.line,e.column,a[1],a[2])),null===a&&(wc=d(e)),a}function r(){var a,b,c,e,f,g;return f=d(wc),g=d(wc),a=Xb(),null!==a?(b=rb(),null!==b?(c=C(),null!==c?(e=mb(),null!==e?a=[a,b,c,e]:(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"constant_declaration",loc:[b,c],name:d,expr:e}}(f.offset,f.line,f.column,a[0],a[2])),null===a&&(wc=d(f)),a}function s(){var a,b,c,e,f,g;return f=d(wc),g=d(wc),a=Xb(),null!==a?(b=rb(),null!==b?(c=W(),null!==c?(e=mb(),null!==e?a=[a,b,c,e]:(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"type_declaration",loc:[b,c],name:d,type:e}}(f.offset,f.line,f.column,a[0],a[2])),null===a&&(wc=d(f)),a}function t(){var a,b,c,e,f,g;return f=d(wc),g=d(wc),a=u(),null!==a?(b=lb(),null!==b?(c=W(),null!==c?(e=mb(),null!==e?a=[a,b,c,e]:(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"variable_declaration",loc:[b,c],names:d,type:e}}(f.offset,f.line,f.column,a[0],a[2])),null===a&&(wc=d(f)),a}function u(){var a,b,c,e,f,g,h,i;if(f=d(wc),g=d(wc),a=Xb(),null!==a){for(b=[],h=d(wc),i=d(wc),c=kb(),null!==c?(e=Xb(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==c;)b.push(c),h=d(wc),i=d(wc),c=kb(),null!==c?(e=Xb(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==b?a=[a,b]:(a=null,wc=d(g))}else a=null,wc=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(wc=d(f)),a}function v(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=Ab(),null!==a?(b=w(),null!==b?(c=Bb(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),a}function w(){var a,b,c,e,f,g,h,i;if(f=d(wc),g=d(wc),a=x(),null!==a){for(b=[],h=d(wc),i=d(wc),c=mb(),null!==c?(e=x(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==c;)b.push(c),h=d(wc),i=d(wc),c=mb(),null!==c?(e=x(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==b?a=[a,b]:(a=null,wc=d(g))}else a=null,wc=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(wc=d(f)),a}function x(){var a,b,c;return a=y(),null===a&&(a=A(),null===a&&(a=z(),null===a&&(a=v(),null===a&&(a=N(),null===a&&(a=B(),null===a&&(b=d(wc),c=d(wc),a=[],null!==a&&(a=function(){}(b.offset,b.line,b.column)),null===a&&(wc=d(b)))))))),a}function y(){var a,b,c,e,f,g,h,i,j,k;return h=d(wc),i=d(wc),a=Hb(),null!==a?(b=C(),null!==b?(c=Ib(),null!==c?(e=x(),null!==e?(j=d(wc),k=d(wc),f=Jb(),null!==f?(g=x(),null!==g?f=[f,g]:(f=null,wc=d(k))):(f=null,wc=d(k)),null!==f&&(f=function(a,b,c,d){return d}(j.offset,j.line,j.column,f[1])),null===f&&(wc=d(j)),f=null!==f?f:"",null!==f?a=[a,b,c,e,f]:(a=null,wc=d(i))):(a=null,wc=d(i))):(a=null,wc=d(i))):(a=null,wc=d(i))):(a=null,wc=d(i)),null!==a&&(a=function(a,b,c,d,e,f){return{ast:"if",loc:[b,c],condition:d,consequent:e,alternative:f||null}}(h.offset,h.line,h.column,a[1],a[3],a[4])),null===a&&(wc=d(h)),a}function z(){var a,b;return b=d(wc),a=Vb(),null!==a&&(a=function(a,b,c){return{ast:"exit",loc:[b,c]}}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=Ub(),null!==a&&(a=function(a,b,c){return{ast:"continue",loc:[b,c]}}(b.offset,b.line,b.column)),null===a&&(wc=d(b))),a}function A(){var a,b,c,e,f,g;return f=d(wc),g=d(wc),a=Kb(),null!==a?(b=C(),null!==b?(c=Lb(),null!==c?(e=x(),null!==e?a=[a,b,c,e]:(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"while",loc:[b,c],condition:d,body:e}}(f.offset,f.line,f.column,a[1],a[3])),null===a&&(wc=d(f)),a}function B(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=R(),null!==a?(b=xb(),null!==b?(c=C(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d,e){return{ast:"assign",loc:[b,c],left:d,right:e}}(e.offset,e.line,e.column,a[0],a[2])),null===a&&(wc=d(e)),a}function C(){var a,b,c,e;for(c=d(wc),e=d(wc),a=[],b=D();null!==b;)a.push(b),b=D();return null!==a?(b=F(),null!==b?a=[a,b]:(a=null,wc=d(e))):(a=null,wc=d(e)),null!==a&&(a=function(a,b,c,d,e){return rc(d,e)}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(wc=d(c)),a}function D(){var a,b,c,e;return c=d(wc),e=d(wc),a=F(),null!==a?(b=E(),null!==b?a=[a,b]:(a=null,wc=d(e))):(a=null,wc=d(e)),null!==a&&(a=function(a,b,c,d,e){return{ast:"binary_"+e,loc:[b,c],left:d}}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(wc=d(c)),a}function E(){var a,b;return b=d(wc),a=rb(),null!==a&&(a=function(){return"equal"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=ub(),null!==a&&(a=function(){return"nequal"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=vb(),null!==a&&(a=function(){return"lequal"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=wb(),null!==a&&(a=function(){return"gequal"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=tb(),null!==a&&(a=function(){return"less"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=sb(),null!==a&&(a=function(){return"great"}(b.offset,b.line,b.column)),null===a&&(wc=d(b))))))),a}function F(){var a,b,c,e;for(c=d(wc),e=d(wc),a=[],b=G();null!==b;)a.push(b),b=G();return null!==a?(b=J(),null!==b?a=[a,b]:(a=null,wc=d(e))):(a=null,wc=d(e)),null!==a&&(a=function(a,b,c,d,e){return rc(d,e)}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(wc=d(c)),a}function G(){var a,b,c,e;return c=d(wc),a=H(),null!==a&&(a=function(a,b,c,d){return{ast:"unary_"+d,loc:[b,c]}}(c.offset,c.line,c.column,a)),null===a&&(wc=d(c)),null===a&&(c=d(wc),e=d(wc),a=J(),null!==a?(b=I(),null!==b?a=[a,b]:(a=null,wc=d(e))):(a=null,wc=d(e)),null!==a&&(a=function(a,b,c,d,e){return{ast:"binary_"+e,loc:[b,c],left:d}}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(wc=d(c))),a}function H(){var a,b;return b=d(wc),a=nb(),null!==a&&(a=function(){return"pos"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=ob(),null!==a&&(a=function(){return"neg"}(b.offset,b.line,b.column)),null===a&&(wc=d(b))),a}function I(){var a,b;return b=d(wc),a=Ob(),null!==a&&(a=function(){return"or"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=nb(),null!==a&&(a=function(){return"plus"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=ob(),null!==a&&(a=function(){return"sub"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)))),a}function J(){var a,b,c,e;for(c=d(wc),e=d(wc),a=[],b=K();null!==b;)a.push(b),b=K();return null!==a?(b=M(),null!==b?a=[a,b]:(a=null,wc=d(e))):(a=null,wc=d(e)),null!==a&&(a=function(a,b,c,d,e){return rc(d,e)}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(wc=d(c)),a}function K(){var a,b,c,e;return c=d(wc),e=d(wc),a=M(),null!==a?(b=L(),null!==b?a=[a,b]:(a=null,wc=d(e))):(a=null,wc=d(e)),null!==a&&(a=function(a,b,c,d,e){return{ast:"binary_"+e,loc:[b,c],left:d}}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(wc=d(c)),a}function L(){var a,b;return b=d(wc),a=pb(),null!==a&&(a=function(){return"mult"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=qb(),null!==a&&(a=function(){return"rdiv"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=Mb(),null!==a&&(a=function(){return"idiv"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=Nb(),null!==a&&(a=function(){return"mod"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)),null===a&&(b=d(wc),a=Pb(),null!==a&&(a=function(){return"and"}(b.offset,b.line,b.column)),null===a&&(wc=d(b)))))),a}function M(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=Qb(),null!==a?(b=M(),null!==b?a=[a,b]:(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d){return{ast:"unary_not",loc:[b,c],right:d}}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),null===a&&(a=N(),null===a&&(a=R(),null===a&&(e=d(wc),f=d(wc),a=gb(),null!==a?(b=C(),null!==b?(c=hb(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),null===a&&(a=Q())))),a}function N(){var a,b,c,e;return c=d(wc),e=d(wc),a=Xb(),null!==a?(b=O(),null!==b?a=[a,b]:(a=null,wc=d(e))):(a=null,wc=d(e)),null!==a&&(a=function(a,b,c,d,e){return{ast:"sub_invocation",loc:[b,c],name:d,params:e}}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(wc=d(c)),a}function O(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=gb(),null!==a?(b=P(),null!==b?(c=hb(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),a}function P(){var a,b,c,e,f,g,h,i;if(f=d(wc),g=d(wc),a=C(),null!==a){for(b=[],h=d(wc),i=d(wc),c=kb(),null!==c?(e=C(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==c;)b.push(c),h=d(wc),i=d(wc),c=kb(),null!==c?(e=C(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==b?a=[a,b]:(a=null,wc=d(g))}else a=null,wc=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(wc=d(f)),null===a&&(f=d(wc),g=d(wc),a=[],null!==a&&(a=function(){return[]}(f.offset,f.line,f.column)),null===a&&(wc=d(f))),a}function Q(){var a;return a=$b(),null===a&&(a=Zb(),null===a&&(a=ac())),a}function R(){var a,b,c,e,f;if(e=d(wc),f=d(wc),a=Xb(),null!==a){for(b=[],c=S();null!==c;)b.push(c),c=S();null!==b?a=[a,b]:(a=null,wc=d(f))}else a=null,wc=d(f);return null!==a&&(a=function(a,b,c,d,e){return sc(e,{ast:"variable",loc:[b,c],name:d})}(e.offset,e.line,e.column,a[0],a[1])),null===a&&(wc=d(e)),a}function S(){var a;return a=V(),null===a&&(a=T()),a}function T(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=ib(),null!==a?(b=U(),null!==b?(c=jb(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d){return{ast:"array_access",loc:[b,c],expressions:d}}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),a}function U(){var a,b,c,e,f,g,h,i;if(f=d(wc),g=d(wc),a=C(),null!==a){for(b=[],h=d(wc),i=d(wc),c=kb(),null!==c?(e=C(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==c;)b.push(c),h=d(wc),i=d(wc),c=kb(),null!==c?(e=C(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==b?a=[a,b]:(a=null,wc=d(g))}else a=null,wc=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(wc=d(f)),a}function V(){var a,b,c,e;return c=d(wc),e=d(wc),a=fb(),null!==a?(b=Xb(),null!==b?a=[a,b]:(a=null,wc=d(e))):(a=null,wc=d(e)),null!==a&&(a=function(a,b,c,d){return{ast:"record_access",loc:[b,c],field:d}}(c.offset,c.line,c.column,a[1])),null===a&&(wc=d(c)),a}function W(){var a;return a=$(),null===a&&(a=X()),a}function X(){var a;return a=Y(),null===a&&(a=Z()),a}function Y(){var a,b;return b=d(wc),a=Xb(),null!==a&&(a=function(a,b,c,d){return{ast:"named_type",loc:[b,c],name:d}}(b.offset,b.line,b.column,a)),null===a&&(wc=d(b)),a}function Z(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=gb(),null!==a?(b=u(),null!==b?(c=hb(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d){return{ast:"enumeration",loc:[b,c],names:d}}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),a}function $(){var a;return a=_(),null===a&&(a=cb()),a}function _(){var a,b,c,e,f,g,h,i;return h=d(wc),i=d(wc),a=Rb(),null!==a?(b=ib(),null!==b?(c=ab(),null!==c?(e=jb(),null!==e?(f=Sb(),null!==f?(g=W(),null!==g?a=[a,b,c,e,f,g]:(a=null,wc=d(i))):(a=null,wc=d(i))):(a=null,wc=d(i))):(a=null,wc=d(i))):(a=null,wc=d(i))):(a=null,wc=d(i)),null!==a&&(a=function(a,b,c,d,e){return{ast:"array_type",loc:[b,c],indexType:d,elementType:e}}(h.offset,h.line,h.column,a[2],a[5])),null===a&&(wc=d(h)),a}function ab(){var a;return a=bb(),null===a&&(a=Y()),a}function bb(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=C(),null!==a?(b=yb(),null!==b?(c=C(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d,e){return{ast:"subrange_type",loc:[b,c],lower:d,upper:e}}(e.offset,e.line,e.column,a[0],a[2])),null===a&&(wc=d(e)),a}function cb(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=Tb(),null!==a?(b=db(),null!==b?(c=Bb(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d){return{ast:"record_type",loc:[b,c],fields:d}}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),a}function db(){var a,b,c,e,f,g,h,i;if(f=d(wc),g=d(wc),a=eb(),null!==a){for(b=[],h=d(wc),i=d(wc),c=mb(),null!==c?(e=eb(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==c;)b.push(c),h=d(wc),i=d(wc),c=mb(),null!==c?(e=eb(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==b?a=[a,b]:(a=null,wc=d(g))}else a=null,wc=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(wc=d(f)),a}function eb(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=Xb(),null!==a?(b=lb(),null!==b?(c=W(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d,e){return{ast:"record_field",loc:[b,c],name:d,type:e}}(e.offset,e.line,e.column,a[0],a[2])),null===a&&(wc=d(e)),a}function fb(){var a,c,g;return g=d(wc),46===b.charCodeAt(wc.offset)?(a=".",e(wc,1)):(a=null,0===xc&&f('"."')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function gb(){var a,c,g;return g=d(wc),40===b.charCodeAt(wc.offset)?(a="(",e(wc,1)):(a=null,0===xc&&f('"("')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function hb(){var a,c,g;return g=d(wc),41===b.charCodeAt(wc.offset)?(a=")",e(wc,1)):(a=null,0===xc&&f('")"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function ib(){var a,c,g;return g=d(wc),91===b.charCodeAt(wc.offset)?(a="[",e(wc,1)):(a=null,0===xc&&f('"["')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function jb(){var a,c,g;return g=d(wc),93===b.charCodeAt(wc.offset)?(a="]",e(wc,1)):(a=null,0===xc&&f('"]"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function kb(){var a,c,g;return g=d(wc),44===b.charCodeAt(wc.offset)?(a=",",e(wc,1)):(a=null,0===xc&&f('","')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function lb(){var a,c,g;return g=d(wc),58===b.charCodeAt(wc.offset)?(a=":",e(wc,1)):(a=null,0===xc&&f('":"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function mb(){var a,c,g;return g=d(wc),59===b.charCodeAt(wc.offset)?(a=";",e(wc,1)):(a=null,0===xc&&f('";"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function nb(){var a,c,g;return g=d(wc),43===b.charCodeAt(wc.offset)?(a="+",e(wc,1)):(a=null,0===xc&&f('"+"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function ob(){var a,c,g;return g=d(wc),45===b.charCodeAt(wc.offset)?(a="-",e(wc,1)):(a=null,0===xc&&f('"-"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function pb(){var a,c,g;return g=d(wc),42===b.charCodeAt(wc.offset)?(a="*",e(wc,1)):(a=null,0===xc&&f('"*"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function qb(){var a,c,g;return g=d(wc),47===b.charCodeAt(wc.offset)?(a="/",e(wc,1)):(a=null,0===xc&&f('"/"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function rb(){var a,c,g;return g=d(wc),61===b.charCodeAt(wc.offset)?(a="=",e(wc,1)):(a=null,0===xc&&f('"="')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function sb(){var a,c,g;return g=d(wc),62===b.charCodeAt(wc.offset)?(a=">",e(wc,1)):(a=null,0===xc&&f('">"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function tb(){var a,c,g;return g=d(wc),60===b.charCodeAt(wc.offset)?(a="<",e(wc,1)):(a=null,0===xc&&f('"<"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function ub(){var a,c,g;return g=d(wc),"<>"===b.substr(wc.offset,2)?(a="<>",e(wc,2)):(a=null,0===xc&&f('"<>"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function vb(){var a,c,g;return g=d(wc),"<="===b.substr(wc.offset,2)?(a="<=",e(wc,2)):(a=null,0===xc&&f('"<="')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function wb(){var a,c,g;return g=d(wc),">="===b.substr(wc.offset,2)?(a=">=",e(wc,2)):(a=null,0===xc&&f('">="')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function xb(){var a,c,g;return g=d(wc),":="===b.substr(wc.offset,2)?(a=":=",e(wc,2)):(a=null,0===xc&&f('":="')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function yb(){var a,c,g;return g=d(wc),".."===b.substr(wc.offset,2)?(a="..",e(wc,2)):(a=null,0===xc&&f('".."')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function zb(){var a,c,g;return g=d(wc),"program"===b.substr(wc.offset,7)?(a="program",e(wc,7)):(a=null,0===xc&&f('"program"')),null!==a?(c=jc(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Ab(){var a,c,g;return g=d(wc),"begin"===b.substr(wc.offset,5)?(a="begin",e(wc,5)):(a=null,0===xc&&f('"begin"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Bb(){var a,c,g;return g=d(wc),"end"===b.substr(wc.offset,3)?(a="end",e(wc,3)):(a=null,0===xc&&f('"end"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Cb(){var a,c,g;return g=d(wc),"const"===b.substr(wc.offset,5)?(a="const",e(wc,5)):(a=null,0===xc&&f('"const"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Db(){var a,c,g;return g=d(wc),"type"===b.substr(wc.offset,4)?(a="type",e(wc,4)):(a=null,0===xc&&f('"type"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Eb(){var a,c,g;return g=d(wc),"var"===b.substr(wc.offset,3)?(a="var",e(wc,3)):(a=null,0===xc&&f('"var"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Fb(){var a,c,g;return g=d(wc),"procedure"===b.substr(wc.offset,9)?(a="procedure",e(wc,9)):(a=null,0===xc&&f('"procedure"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Gb(){var a,c,g;return g=d(wc),"function"===b.substr(wc.offset,8)?(a="function",e(wc,8)):(a=null,0===xc&&f('"function"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Hb(){var a,c,g;return g=d(wc),"if"===b.substr(wc.offset,2)?(a="if",e(wc,2)):(a=null,0===xc&&f('"if"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Ib(){var a,c,g;return g=d(wc),"then"===b.substr(wc.offset,4)?(a="then",e(wc,4)):(a=null,0===xc&&f('"then"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Jb(){var a,c,g;return g=d(wc),"else"===b.substr(wc.offset,4)?(a="else",e(wc,4)):(a=null,0===xc&&f('"else"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Kb(){var a,c,g;return g=d(wc),"while"===b.substr(wc.offset,5)?(a="while",e(wc,5)):(a=null,0===xc&&f('"while"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Lb(){var a,c,g;return g=d(wc),"do"===b.substr(wc.offset,2)?(a="do",e(wc,2)):(a=null,0===xc&&f('"do"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Mb(){var a,c,g;return g=d(wc),"div"===b.substr(wc.offset,3)?(a="div",e(wc,3)):(a=null,0===xc&&f('"div"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Nb(){var a,c,g;return g=d(wc),"mod"===b.substr(wc.offset,3)?(a="mod",e(wc,3)):(a=null,0===xc&&f('"mod"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Ob(){var a,c,g;return g=d(wc),"or"===b.substr(wc.offset,2)?(a="or",e(wc,2)):(a=null,0===xc&&f('"or"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Pb(){var a,c,g;return g=d(wc),"and"===b.substr(wc.offset,3)?(a="and",e(wc,3)):(a=null,0===xc&&f('"and"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Qb(){var a,c,g;return g=d(wc),"not"===b.substr(wc.offset,3)?(a="not",e(wc,3)):(a=null,0===xc&&f('"not"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Rb(){var a,c,g;return g=d(wc),"array"===b.substr(wc.offset,5)?(a="array",e(wc,5)):(a=null,0===xc&&f('"array"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Sb(){var a,c,g;return g=d(wc),"of"===b.substr(wc.offset,2)?(a="of",e(wc,2)):(a=null,0===xc&&f('"of"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Tb(){var a,c,g;return g=d(wc),"record"===b.substr(wc.offset,6)?(a="record",e(wc,6)):(a=null,0===xc&&f('"record"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Ub(){var a,c,g;return g=d(wc),"continue"===b.substr(wc.offset,8)?(a="continue",e(wc,8)):(a=null,0===xc&&f('"continue"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Vb(){var a,c,g;return g=d(wc),"exit"===b.substr(wc.offset,4)?(a="exit",e(wc,4)):(a=null,0===xc&&f('"exit"')),null!==a?(c=ic(),null!==c?a=[a,c]:(a=null,wc=d(g))):(a=null,wc=d(g)),a}function Wb(){var a;return"begin"===b.substr(wc.offset,5)?(a="begin",e(wc,5)):(a=null,0===xc&&f('"begin"')),null===a&&("end"===b.substr(wc.offset,3)?(a="end",e(wc,3)):(a=null,0===xc&&f('"end"')),null===a&&("const"===b.substr(wc.offset,5)?(a="const",e(wc,5)):(a=null,0===xc&&f('"const"')),null===a&&("type"===b.substr(wc.offset,4)?(a="type",e(wc,4)):(a=null,0===xc&&f('"type"')),null===a&&("var"===b.substr(wc.offset,3)?(a="var",e(wc,3)):(a=null,0===xc&&f('"var"')),null===a&&("procedure"===b.substr(wc.offset,9)?(a="procedure",e(wc,9)):(a=null,0===xc&&f('"procedure"')),null===a&&("function"===b.substr(wc.offset,8)?(a="function",e(wc,8)):(a=null,0===xc&&f('"function"')),null===a&&("if"===b.substr(wc.offset,2)?(a="if",e(wc,2)):(a=null,0===xc&&f('"if"')),null===a&&("then"===b.substr(wc.offset,4)?(a="then",e(wc,4)):(a=null,0===xc&&f('"then"')),null===a&&("else"===b.substr(wc.offset,4)?(a="else",e(wc,4)):(a=null,0===xc&&f('"else"')),null===a&&("while"===b.substr(wc.offset,5)?(a="while",e(wc,5)):(a=null,0===xc&&f('"while"')),null===a&&("do"===b.substr(wc.offset,2)?(a="do",e(wc,2)):(a=null,0===xc&&f('"do"')),null===a&&("div"===b.substr(wc.offset,3)?(a="div",e(wc,3)):(a=null,0===xc&&f('"div"')),null===a&&("mod"===b.substr(wc.offset,3)?(a="mod",e(wc,3)):(a=null,0===xc&&f('"mod"')),null===a&&("or"===b.substr(wc.offset,2)?(a="or",e(wc,2)):(a=null,0===xc&&f('"or"')),null===a&&("and"===b.substr(wc.offset,3)?(a="and",e(wc,3)):(a=null,0===xc&&f('"and"')),null===a&&("not"===b.substr(wc.offset,3)?(a="not",e(wc,3)):(a=null,0===xc&&f('"not"')),null===a&&("array"===b.substr(wc.offset,5)?(a="array",e(wc,5)):(a=null,0===xc&&f('"array"')),null===a&&("of"===b.substr(wc.offset,2)?(a="of",e(wc,2)):(a=null,0===xc&&f('"of"')),null===a&&("record"===b.substr(wc.offset,6)?(a="record",e(wc,6)):(a=null,0===xc&&f('"record"')),null===a&&("continue"===b.substr(wc.offset,8)?(a="continue",e(wc,8)):(a=null,0===xc&&f('"continue"')),null===a&&("exit"===b.substr(wc.offset,4)?(a="exit",e(wc,4)):(a=null,0===xc&&f('"exit"'))))))))))))))))))))))),a}function Xb(){var a,b,c,e,g,h;return xc++,e=d(wc),g=d(wc),h=d(wc),xc++,a=Wb(),xc--,null===a?a="":(a=null,wc=d(h)),null!==a?(b=Yb(),null!==b?(c=ic(),null!==c?a=[a,b,c]:(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g)),null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),xc--,0===xc&&null===a&&f("identifier"),a}function Yb(){var a,c,g,h,i;if(h=d(wc),i=d(wc),/^[A-Za-z]/.test(b.charAt(wc.offset))?(a=b.charAt(wc.offset),e(wc,1)):(a=null,0===xc&&f("[A-Za-z]")),null!==a){for(c=[],/^[A-Za-z0-9]/.test(b.charAt(wc.offset))?(g=b.charAt(wc.offset),e(wc,1)):(g=null,0===xc&&f("[A-Za-z0-9]"));null!==g;)c.push(g),/^[A-Za-z0-9]/.test(b.charAt(wc.offset))?(g=b.charAt(wc.offset),e(wc,1)):(g=null,0===xc&&f("[A-Za-z0-9]"));null!==c?a=[a,c]:(a=null,wc=d(i))}else a=null,wc=d(i);return null!==a&&(a=function(a,b,c,d){return d[0]+d[1].join("")}(h.offset,h.line,h.column,a)),null===a&&(wc=d(h)),a}function Zb(){var a,b,c,e;return xc++,c=d(wc),e=d(wc),a=_b(),null!==a?(b=ic(),null!==b?a=[a,b]:(a=null,wc=d(e))):(a=null,wc=d(e)),null!==a&&(a=function(a,b,c,d){return{ast:"integer",loc:[b,c],val:parseInt(d,10)}}(c.offset,c.line,c.column,a[0])),null===a&&(wc=d(c)),xc--,0===xc&&null===a&&f("integer"),a}function $b(){var a,c,g,h,i,j;return xc++,i=d(wc),j=d(wc),a=_b(),null!==a?(46===b.charCodeAt(wc.offset)?(c=".",e(wc,1)):(c=null,0===xc&&f('"."')),null!==c?(g=_b(),null!==g?(h=ic(),null!==h?a=[a,c,g,h]:(a=null,wc=d(j))):(a=null,wc=d(j))):(a=null,wc=d(j))):(a=null,wc=d(j)),null!==a&&(a=function(a,b,c,d,e){return{ast:"real",loc:[b,c],val:parseFloat(d+"."+e,10)}}(i.offset,i.line,i.column,a[0],a[2])),null===a&&(wc=d(i)),xc--,0===xc&&null===a&&f("real"),a}function _b(){var a,c,g;if(g=d(wc),/^[0-9]/.test(b.charAt(wc.offset))?(c=b.charAt(wc.offset),e(wc,1)):(c=null,0===xc&&f("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(wc.offset))?(c=b.charAt(wc.offset),e(wc,1)):(c=null,0===xc&&f("[0-9]"));else a=null;return null!==a&&(a=function(a,b,c,d){return d.join("")}(g.offset,g.line,g.column,a)),null===a&&(wc=d(g)),a}function ac(){var a,c,g,h,i,j;if(xc++,i=d(wc),j=d(wc),39===b.charCodeAt(wc.offset)?(a="'",e(wc,1)):(a=null,0===xc&&f('"\'"')),null!==a){for(c=[],g=bc();null!==g;)c.push(g),g=bc();null!==c?(39===b.charCodeAt(wc.offset)?(g="'",e(wc,1)):(g=null,0===xc&&f('"\'"')),null!==g?(h=ic(),null!==h?a=[a,c,g,h]:(a=null,wc=d(j))):(a=null,wc=d(j))):(a=null,wc=d(j))}else a=null,wc=d(j);return null!==a&&(a=function(a,b,c,d){return{ast:"string",loc:[b,c],val:d.join("")}}(i.offset,i.line,i.column,a[1])),null===a&&(wc=d(i)),xc--,0===xc&&null===a&&f("string"),a}function bc(){var a;return a=cc(),null===a&&(a=dc()),a}function cc(){var a,c,g,h,i;return g=d(wc),h=d(wc),i=d(wc),xc++,39===b.charCodeAt(wc.offset)?(a="'",e(wc,1)):(a=null,0===xc&&f('"\'"')),null===a&&(a=oc(),null===a&&(92===b.charCodeAt(wc.offset)?(a="\\",e(wc,1)):(a=null,0===xc&&f('"\\\\"')))),xc--,null===a?a="":(a=null,wc=d(i)),null!==a?(b.length>wc.offset?(c=b.charAt(wc.offset),e(wc,1)):(c=null,0===xc&&f("any character")),null!==c?a=[a,c]:(a=null,wc=d(h))):(a=null,wc=d(h)),null!==a&&(a=function(a,b,c,d){return d}(g.offset,g.line,g.column,a[1])),null===a&&(wc=d(g)),a}function dc(){var a,c,g,h;return g=d(wc),h=d(wc),92===b.charCodeAt(wc.offset)?(a="\\",e(wc,1)):(a=null,0===xc&&f('"\\\\"')),null!==a?(c=ec(),null!==c?a=[a,c]:(a=null,wc=d(h))):(a=null,wc=d(h)),null!==a&&(a=function(a,b,c,d){return d}(g.offset,g.line,g.column,a[1])),null===a&&(wc=d(g)),a}function ec(){var a,c;return c=d(wc),110===b.charCodeAt(wc.offset)?(a="n",e(wc,1)):(a=null,0===xc&&f('"n"')),null!==a&&(a=function(){return"\n"
}(c.offset,c.line,c.column)),null===a&&(wc=d(c)),null===a&&(c=d(wc),116===b.charCodeAt(wc.offset)?(a="t",e(wc,1)):(a=null,0===xc&&f('"t"')),null!==a&&(a=function(){return"	"}(c.offset,c.line,c.column)),null===a&&(wc=d(c)),null===a&&(c=d(wc),39===b.charCodeAt(wc.offset)?(a="'",e(wc,1)):(a=null,0===xc&&f('"\'"')),null!==a&&(a=function(){return"'"}(c.offset,c.line,c.column)),null===a&&(wc=d(c)),null===a&&(c=d(wc),92===b.charCodeAt(wc.offset)?(a="\\",e(wc,1)):(a=null,0===xc&&f('"\\\\"')),null!==a&&(a=function(){return"\\"}(c.offset,c.line,c.column)),null===a&&(wc=d(c))))),a}function fc(){var a,b,c,e,f;return e=d(wc),f=d(wc),a=gb(),null!==a?(b=gc(),b=null!==b?b:"",null!==b?(c=hb(),null!==c?a=[a,b,c]:(a=null,wc=d(f))):(a=null,wc=d(f))):(a=null,wc=d(f)),null!==a&&(a=function(a,b,c,d){return d||[]}(e.offset,e.line,e.column,a[1])),null===a&&(wc=d(e)),a}function gc(){var a,b,c,e,f,g,h,i;if(f=d(wc),g=d(wc),a=hc(),null!==a){for(b=[],h=d(wc),i=d(wc),c=mb(),null!==c?(e=hc(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==c;)b.push(c),h=d(wc),i=d(wc),c=mb(),null!==c?(e=hc(),null!==e?c=[c,e]:(c=null,wc=d(i))):(c=null,wc=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(wc=d(h));null!==b?a=[a,b]:(a=null,wc=d(g))}else a=null,wc=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(wc=d(f)),a}function hc(){var a,b,c,e,f,g;return f=d(wc),g=d(wc),a=Eb(),a=null!==a?a:"",null!==a?(b=Xb(),null!==b?(c=lb(),null!==c?(e=Y(),null!==e?a=[a,b,c,e]:(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g))):(a=null,wc=d(g)),null!==a&&(a=function(a,b,c,d,e,f){return{ast:"formal_parameter",loc:[b,c],name:e,type:f,reference:!!d}}(f.offset,f.line,f.column,a[0],a[1],a[3])),null===a&&(wc=d(f)),a}function ic(){var a,b,c;for(c=d(wc),a=[],b=jc();null!==b;)a.push(b),b=jc();return null!==a&&(a=function(){}(c.offset,c.line,c.column)),null===a&&(wc=d(c)),a}function jc(){var a;return a=kc(),null===a&&(a=nc(),null===a&&(a=oc())),a}function kc(){var a;return xc++,a=lc(),null===a&&(a=mc()),xc--,0===xc&&null===a&&f("comment"),a}function lc(){var a,c,g,h,i,j,k;if(xc++,i=d(wc),123===b.charCodeAt(wc.offset)?(a="{",e(wc,1)):(a=null,0===xc&&f('"{"')),null!==a){for(c=[],j=d(wc),k=d(wc),xc++,125===b.charCodeAt(wc.offset)?(g="}",e(wc,1)):(g=null,0===xc&&f('"}"')),xc--,null===g?g="":(g=null,wc=d(k)),null!==g?(b.length>wc.offset?(h=b.charAt(wc.offset),e(wc,1)):(h=null,0===xc&&f("any character")),null!==h?g=[g,h]:(g=null,wc=d(j))):(g=null,wc=d(j));null!==g;)c.push(g),j=d(wc),k=d(wc),xc++,125===b.charCodeAt(wc.offset)?(g="}",e(wc,1)):(g=null,0===xc&&f('"}"')),xc--,null===g?g="":(g=null,wc=d(k)),null!==g?(b.length>wc.offset?(h=b.charAt(wc.offset),e(wc,1)):(h=null,0===xc&&f("any character")),null!==h?g=[g,h]:(g=null,wc=d(j))):(g=null,wc=d(j));null!==c?(125===b.charCodeAt(wc.offset)?(g="}",e(wc,1)):(g=null,0===xc&&f('"}"')),null!==g?a=[a,c,g]:(a=null,wc=d(i))):(a=null,wc=d(i))}else a=null,wc=d(i);return xc--,0===xc&&null===a&&f("comment"),a}function mc(){var a,c,g,h,i,j,k;if(i=d(wc),"//"===b.substr(wc.offset,2)?(a="//",e(wc,2)):(a=null,0===xc&&f('"//"')),null!==a){for(c=[],j=d(wc),k=d(wc),xc++,g=oc(),xc--,null===g?g="":(g=null,wc=d(k)),null!==g?(b.length>wc.offset?(h=b.charAt(wc.offset),e(wc,1)):(h=null,0===xc&&f("any character")),null!==h?g=[g,h]:(g=null,wc=d(j))):(g=null,wc=d(j));null!==g;)c.push(g),j=d(wc),k=d(wc),xc++,g=oc(),xc--,null===g?g="":(g=null,wc=d(k)),null!==g?(b.length>wc.offset?(h=b.charAt(wc.offset),e(wc,1)):(h=null,0===xc&&f("any character")),null!==h?g=[g,h]:(g=null,wc=d(j))):(g=null,wc=d(j));null!==c?a=[a,c]:(a=null,wc=d(i))}else a=null,wc=d(i);return a}function nc(){var a;return xc++,/^[ \t]/.test(b.charAt(wc.offset))?(a=b.charAt(wc.offset),e(wc,1)):(a=null,0===xc&&f("[ \\t]")),xc--,0===xc&&null===a&&f("whitespace"),a}function oc(){var a;return xc++,10===b.charCodeAt(wc.offset)?(a="\n",e(wc,1)):(a=null,0===xc&&f('"\\n"')),xc--,0===xc&&null===a&&f("end of line"),a}function pc(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function qc(a,b){var c;return c=function(d){var e=d[b]();return d.length&&(e[a]=c(d)),e}}function rc(a,b){return a.length?(a.push(b),uc(a)):b}function sc(a,b){return a.length?(a.unshift(b),vc(a)):b}var tc={program:g,program_head:h,program_files:i,declarations:j,const_decls:k,type_decls:l,var_decls:m,sub_decls:n,subroutine:o,function_decl:p,procedure_decl:q,const_decl:r,type_decl:s,var_decl:t,identifier_list:u,compound_stat:v,statements:w,statement:x,conditional:y,structured_statement:z,while_loop:A,assignment:B,expression:C,comparative_expression:D,comparison_op:E,simple_expr:F,additive_expression:G,term_prefix:H,additive_op:I,term:J,multiplicative_expression:K,multiplicative_op:L,factor:M,sub_invocation:N,params:O,param_list:P,unsigned_const:Q,variable:R,variable_rest:S,array_access:T,expression_list:U,record_access:V,type_expr:W,simple_type:X,named_type:Y,enumeration:Z,structured_type:$,array_type:_,index_type:ab,subrange_type:bb,record_type:cb,field_list:db,field:eb,period:fb,lparen:gb,rparen:hb,lbrack:ib,rbrack:jb,comma:kb,colon:lb,smcln:mb,plus:nb,sub:ob,mult:pb,rdiv:qb,equal:rb,great:sb,less:tb,nequal:ub,lequal:vb,gequal:wb,assign:xb,range:yb,program_keyword:zb,begin:Ab,end:Bb,"const":Cb,type:Db,"var":Eb,procedure:Fb,"function":Gb,"if":Hb,then:Ib,"else":Jb,"while":Kb,"do":Lb,div:Mb,mod:Nb,or:Ob,and:Pb,not:Qb,array:Rb,of:Sb,record:Tb,"continue":Ub,exit:Vb,keyword:Wb,identifier:Xb,id_text:Yb,integer:Zb,real:$b,digits:_b,string:ac,string_char:bc,normal_string_char:cc,string_escape:dc,escaped_char:ec,formal_param_list:fc,formal_params:gc,formal_param:hc,__:ic,token_sep:jc,comment:kc,multiline_comment:lc,cpp_comment:mc,whitespace:nc,eol:oc};if(void 0!==c){if(void 0===tc[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="program";var uc,vc,wc={offset:0,line:1,column:1,seenCR:!1},xc=0,yc={offset:0,line:1,column:1,seenCR:!1},zc=[];uc=qc("right","shift"),vc=qc("apropos","pop");var Ac=tc[c]();if(null===Ac||wc.offset!==b.length){var Bc=Math.max(wc.offset,yc.offset),Cc=Bc<b.length?b.charAt(Bc):null,Dc=wc.offset>yc.offset?wc:yc;throw new this.SyntaxError(pc(zc),Cc,Bc,Dc.line,Dc.column)}return Ac},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}(),function(){var JSCodeGenerator,PalCompiler,install;PalCompiler=function(a,b){var c,d,e,f,g,h;return null==b&&(b={}),e={ast:null,src:null,fn:null,error:null},h=[["ast",PalCompiler.parse],["src",PalCompiler.generateJS],["fn",PalCompiler.createFn]],g=0,d="input",f=h[g],c=function(a,b){var f,i;switch(!1){case null==a:return e.error=a,e.which=h[g][0],e;case!(g<h.length):return e[d]=b,i=h[g],d=i[0],f=i[1],g+=1,f(b,c);default:return e[d]=b,e}},c(null,a)},PalCompiler.parse=function(a,b){var c,d;try{c=PalParser.parse(a,"program")}catch(e){return d=e,b(d)}return b(null,c)},PalCompiler.generateJS=function(a,b){var c,d;return c=new JSCodeGenerator,d=c.compile(a),b(null,d)},PalCompiler.createFn=function(jsCode,cb){var fn;return fn=eval(jsCode),cb(null,fn)},install=function(a,b){switch(!1){case null==("undefined"!=typeof module&&null!==module?module.exports:void 0):return module.exports=a;case"undefined"==typeof window||null===window:return window[b]=a}},install(PalCompiler,"PalCompiler"),JSCodeGenerator=function(){function a(){this.indentAmount="  "}return a.prototype.compile=function(a){return this.indent="  ",this.visit(a)},a.makeBinOp=function(a){return function(b){return["(",this.visit(b.left),a,this.visit(b.right),")"]}},a.makeWrappedSubroutine=function(a){return function(b){var c,d,e,f,g;return g=function(){var a,c,d,e;for(d=b.params,e=[],a=0,c=d.length;c>a;a++)f=d[a],e.push(this.variableNameFor(f.name));return e}.call(this),e=this.subroutineNameFor(b.name),d="function "+e+"("+g.join(", ")+") {\n",c=this.indentThis(function(c){return function(){return a.call(c,c.visit(b.declarations,"$body"),b)}}(this)),[this.indent,d,c,this.indent,"}\n"]}},a.actions={program:function(a){return["(function (input, output) {\n",this.visit(a.declarations),"})"]},declarations:function(a){return this.visit(a,"$body")},$body:function(a){var b,c,d,e;return e=this.visit(a.vars,"$stmt"),d=function(){var b,d,e,f;for(e=a.subroutines,f=[],b=0,d=e.length;d>b;b++)c=e[b],f.push(this.visit(c));return f}.call(this),b=this.visit(a.body,"$stmt"),[].concat(e,d,b)},$stmt:function(a){return a?[this.indent,this.visit(a),";\n"]:""},procedure:a.makeWrappedSubroutine(function(a){return a}),"function":a.makeWrappedSubroutine(function(a,b){var c;return c=this.variableNameFor(b.name),[this.indent,"var "+c+";\n",a,this.indent,"return "+c+";\n"].join("")}),"if":function(a){var b,c,d,e,f;return c=["if (",this.visit(a.condition),") {\n"],b=this.indentThis(function(c){return function(){return b=c.visit(a.consequent,"$stmt")}}(this)),e=null!=a.alternative?(f=[this.indent,"} else {\n"],d=this.indentThis(function(b){return function(){return b.visit(a.alternative,"$stmt")}}(this)),f.concat(d)):[],c.concat(b,e,this.indent,"}")},"while":function(a){var b,c;return c=["while (",this.visit(a.condition),") {\n"],b=this.indentThis(function(b){return function(){return b.visit(a.body,"$stmt")}}(this)),c.concat([b,this.indent,"}"])},"continue":function(){return"continue"},exit:function(){return"break"},assign:function(a){return[this.visit(a.left)," = ",this.visit(a.right)]},sub_invocation:function(a){var b,c,d,e;return d=function(){var c,d,e,f;for(e=a.params,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(this.visit(b));return f}.call(this),c=d.join(", "),e="writeln"===a.name?"output":this.subroutineNameFor(a.name),""+e+"("+c+")"},variable_declaration:function(a){var b,c;return c=function(){var c,d,e,f;for(e=a.names,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(this.variableNameFor(b));return f}.call(this),["var ",c.join(", ")]},variable:function(a){return this.variableNameFor(a.name)},array_access:function(a){var b,c;return c=function(){var c,d,e,f;for(e=a.expressions,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push("["+this.visit(b)+"]");return f}.call(this),[this.visit(a.apropos)].concat(c)},record_access:function(a){return[this.visit(a.apropos),"[",this.visit({val:a.field},"string"),"]"]},string:function(a){var b;return b=a.val,"'"+b.replace(/[\\']/,"\\$&").replace(/\n/,"\\n")+"'"},integer:function(a){return a.val.toString()},real:function(a){return a.val.toString()},binary_equal:a.makeBinOp("==="),binary_nequal:a.makeBinOp("!=="),binary_gequal:a.makeBinOp(">="),binary_lequal:a.makeBinOp("<="),binary_great:a.makeBinOp(">"),binary_less:a.makeBinOp("<"),binary_plus:a.makeBinOp("+"),binary_sub:a.makeBinOp("-"),binary_or:a.makeBinOp("||"),binary_mult:a.makeBinOp("*"),binary_rdiv:a.makeBinOp("/"),binary_mod:a.makeBinOp("%"),binary_and:a.makeBinOp("&&"),binary_idiv:function(a){return["(~~(",this.visit(a.left),"/",this.visit(a.right),"))"]},unary_pos:function(a){return this.visit(a.right)},unary_neg:function(a){return["(-",this.visit(a.right),")"]},unary_not:function(a){return["(!",this.visit(a.right),")"]}},a.prototype.visit=function(b,c){var d,e,f,g,h;return null==c&&(c=null),Array.isArray(b)?function(){var a,d,e;for(e=[],a=0,d=b.length;d>a;a++)g=b[a],e.push(this.visit(g,c));return e}.call(this).join(""):(f=c||b.ast,d=a.actions,null!=f&&null!=d[f]?(h=d[f],e=h.call(this,b),null!=e.join?e.join(""):e):(console.warn("No action for",b),""))},a.prototype.indentThis=function(a){var b,c;return b=this.indent,this.indent+=this.indentAmount,c=a(),this.indent=b,c},a.prototype.variableNameFor=function(a){return"$"+a},a.prototype.subroutineNameFor=function(a){return"_"+a},a}()}.call(this);