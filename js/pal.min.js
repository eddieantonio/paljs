/*!Pal.JS: 2013 (C) Eddie Antonio Santos. MIT license.*/
PalParser=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){var b={};for(var c in a)b[c]=a[c];return b}function e(a,c){for(var d=a.offset+c,e=a.offset;d>e;e++){var f=b.charAt(e);"\n"===f?(a.seenCR||a.line++,a.column=1,a.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1)}a.offset+=c}function f(a){ac.offset<cc.offset||(ac.offset>cc.offset&&(cc=d(ac),dc=[]),dc.push(a))}function g(){var a,b,c,e,f,g;return f=d(ac),g=d(ac),a=Tb(),null!==a?(b=h(),null!==b?(c=j(),null!==c?(e=V(),null!==e?a=[a,b,c,e]:(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"program",loc:[b,c],head:d,declarations:e}}(f.offset,f.line,f.column,a[1],a[2])),null===a&&(ac=d(f)),a}function h(){var a,b,c,e,f,g;return f=d(ac),g=d(ac),a=nb(),null!==a?(b=Gb(),null!==b?(c=i(),null!==c?(e=ab(),null!==e?a=[a,b,c,e]:(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"program_head",loc:[b,c],name:d,files:e}}(f.offset,f.line,f.column,a[1],a[2])),null===a&&(ac=d(f)),a}function i(){var a,b,c,e,f,g,h;return g=d(ac),h=d(ac),a=W(),null!==a?(b=Gb(),null!==b?(c=$(),null!==c?(e=Gb(),null!==e?(f=X(),null!==f?a=[a,b,c,e,f]:(a=null,ac=d(h))):(a=null,ac=d(h))):(a=null,ac=d(h))):(a=null,ac=d(h))):(a=null,ac=d(h)),null!==a&&(a=function(a,b,c,d,e){return{ast:"program_files",loc:[b,c],input:d,output:e}}(g.offset,g.line,g.column,a[1],a[3])),null===a&&(ac=d(g)),a}function j(){var a,b,c,e,f,g,h;return g=d(ac),h=d(ac),a=k(),a=null!==a?a:"",null!==a?(b=l(),b=null!==b?b:"",null!==b?(c=m(),c=null!==c?c:"",null!==c?(e=n(),e=null!==e?e:"",null!==e?(f=u(),null!==f?a=[a,b,c,e,f]:(a=null,ac=d(h))):(a=null,ac=d(h))):(a=null,ac=d(h))):(a=null,ac=d(h))):(a=null,ac=d(h)),null!==a&&(a=function(a,b,c,d,e,f,g,h){return{ast:"declarations",loc:[b,c],constants:d||[],types:e||[],vars:f||[],subroutines:g||[],body:h}}(g.offset,g.line,g.column,a[0],a[1],a[2],a[3],a[4])),null===a&&(ac=d(g)),a}function k(){var a,b,c,e,f;if(e=d(ac),f=d(ac),a=qb(),null!==a){if(c=r(),null!==c)for(b=[];null!==c;)b.push(c),c=r();else b=null;null!==b?a=[a,b]:(a=null,ac=d(f))}else a=null,ac=d(f);return null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(ac=d(e)),a}function l(){var a,b,c,e,f;if(e=d(ac),f=d(ac),a=rb(),null!==a){if(c=s(),null!==c)for(b=[];null!==c;)b.push(c),c=s();else b=null;null!==b?a=[a,b]:(a=null,ac=d(f))}else a=null,ac=d(f);return null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(ac=d(e)),a}function m(){var a,b,c,e,f;if(e=d(ac),f=d(ac),a=sb(),null!==a){if(c=t(),null!==c)for(b=[];null!==c;)b.push(c),c=t();else b=null;null!==b?a=[a,b]:(a=null,ac=d(f))}else a=null,ac=d(f);return null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(ac=d(e)),a}function n(){var a,b,c;if(c=d(ac),b=o(),null!==b)for(a=[];null!==b;)a.push(b),b=o();else a=null;return null!==a&&(a=function(a,b,c,d){return d}(c.offset,c.line,c.column,a)),null===a&&(ac=d(c)),a}function o(){var a,b,c,e,f,g;return f=d(ac),g=d(ac),a=p(),null===a&&(a=q()),null!==a?(b=ab(),null!==b?(c=j(),null!==c?(e=ab(),null!==e?a=[a,b,c,e]:(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g)),null!==a&&(a=function(a,b,c,d,e){return d.declarations=e,d}(f.offset,f.line,f.column,a[0],a[2])),null===a&&(ac=d(f)),a}function p(){var a,b,c,e,f,g,h;return g=d(ac),h=d(ac),a=ub(),null!==a?(b=Gb(),null!==b?(c=Qb(),null!==c?(e=_(),null!==e?(f=U(),null!==f?a=[a,b,c,e,f]:(a=null,ac=d(h))):(a=null,ac=d(h))):(a=null,ac=d(h))):(a=null,ac=d(h))):(a=null,ac=d(h)),null!==a&&(a=function(a,b,c,d,e,f){return{ast:"function",loc:[b,c],name:d,params:e,rtype:f}}(g.offset,g.line,g.column,a[1],a[2],a[4])),null===a&&(ac=d(g)),a}function q(){var a,b,c,e,f;return e=d(ac),f=d(ac),a=tb(),null!==a?(b=Gb(),null!==b?(c=Qb(),null!==c?a=[a,b,c]:(a=null,ac=d(f))):(a=null,ac=d(f))):(a=null,ac=d(f)),null!==a&&(a=function(a,b,c,d,e){return{ast:"procedure",loc:[b,c],name:d,params:e}}(e.offset,e.line,e.column,a[1],a[2])),null===a&&(ac=d(e)),a}function r(){var a,b,c,e,f,g;return f=d(ac),g=d(ac),a=Gb(),null!==a?(b=fb(),null!==b?(c=A(),null!==c?(e=ab(),null!==e?a=[a,b,c,e]:(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"constant_declaration",loc:[b,c],name:d,expr:e}}(f.offset,f.line,f.column,a[0],a[2])),null===a&&(ac=d(f)),a}function s(){var a,b,c,e,f,g;return f=d(ac),g=d(ac),a=Gb(),null!==a?(b=fb(),null!==b?(c=U(),null!==c?(e=ab(),null!==e?a=[a,b,c,e]:(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"type_declaration",loc:[b,c],name:d,type:e}}(f.offset,f.line,f.column,a[0],a[2])),null===a&&(ac=d(f)),a}function t(){var a,b,c,e,f,g;return f=d(ac),g=d(ac),a=Gb(),null!==a?(b=_(),null!==b?(c=U(),null!==c?(e=ab(),null!==e?a=[a,b,c,e]:(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"variable_declaration",loc:[b,c],name:d,type:e}}(f.offset,f.line,f.column,a[0],a[2])),null===a&&(ac=d(f)),a}function u(){var a,b,c,e,f;return e=d(ac),f=d(ac),a=ob(),null!==a?(b=v(),null!==b?(c=pb(),null!==c?a=[a,b,c]:(a=null,ac=d(f))):(a=null,ac=d(f))):(a=null,ac=d(f)),null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(ac=d(e)),a}function v(){var a,b,c,e,f,g,h,i;if(f=d(ac),g=d(ac),a=w(),null!==a){for(b=[],h=d(ac),i=d(ac),c=ab(),null!==c?(e=w(),null!==e?c=[c,e]:(c=null,ac=d(i))):(c=null,ac=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(ac=d(h));null!==c;)b.push(c),h=d(ac),i=d(ac),c=ab(),null!==c?(e=w(),null!==e?c=[c,e]:(c=null,ac=d(i))):(c=null,ac=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(ac=d(h));null!==b?a=[a,b]:(a=null,ac=d(g))}else a=null,ac=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(ac=d(f)),a}function w(){var a,b,c;return a=x(),null===a&&(a=y(),null===a&&(a=u(),null===a&&(a=L(),null===a&&(a=z(),null===a&&(b=d(ac),c=d(ac),a=[],null!==a&&(a=function(){}(b.offset,b.line,b.column)),null===a&&(ac=d(b))))))),a}function x(){var a,b,c,e,f,g,h,i,j,k;return h=d(ac),i=d(ac),a=vb(),null!==a?(b=A(),null!==b?(c=wb(),null!==c?(e=w(),null!==e?(j=d(ac),k=d(ac),f=xb(),null!==f?(g=w(),null!==g?f=[f,g]:(f=null,ac=d(k))):(f=null,ac=d(k)),null!==f&&(f=function(a,b,c,d){return d}(j.offset,j.line,j.column,f[1])),null===f&&(ac=d(j)),f=null!==f?f:"",null!==f?a=[a,b,c,e,f]:(a=null,ac=d(i))):(a=null,ac=d(i))):(a=null,ac=d(i))):(a=null,ac=d(i))):(a=null,ac=d(i)),null!==a&&(a=function(a,b,c,d,e,f){return{ast:"if",loc:[b,c],condition:d,consequent:e,alternative:f||[]}}(h.offset,h.line,h.column,a[1],a[3],a[4])),null===a&&(ac=d(h)),a}function y(){var a,b,c,e,f,g;return f=d(ac),g=d(ac),a=yb(),null!==a?(b=A(),null!==b?(c=zb(),null!==c?(e=w(),null!==e?a=[a,b,c,e]:(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g)),null!==a&&(a=function(a,b,c,d,e){return{ast:"while",loc:[b,c],condition:d,body:e}}(f.offset,f.line,f.column,a[1],a[3])),null===a&&(ac=d(f)),a}function z(){var a,b,c,e,f;return e=d(ac),f=d(ac),a=P(),null!==a?(b=lb(),null!==b?(c=A(),null!==c?a=[a,b,c]:(a=null,ac=d(f))):(a=null,ac=d(f))):(a=null,ac=d(f)),null!==a&&(a=function(a,b,c,d,e){return{ast:"assign",loc:[b,c],left:d,right:e}}(e.offset,e.line,e.column,a[0],a[2])),null===a&&(ac=d(e)),a}function A(){var a,b,c,e;for(c=d(ac),e=d(ac),a=[],b=B();null!==b;)a.push(b),b=B();return null!==a?(b=D(),null!==b?a=[a,b]:(a=null,ac=d(e))):(a=null,ac=d(e)),null!==a&&(a=function(a,b,c,d,e){return $b(d,e)}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(ac=d(c)),a}function B(){var a,b,c,e;return c=d(ac),e=d(ac),a=D(),null!==a?(b=C(),null!==b?a=[a,b]:(a=null,ac=d(e))):(a=null,ac=d(e)),null!==a&&(a=function(a,b,c,d,e){return{ast:"binary_"+e,loc:[b,c],left:d}}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(ac=d(c)),a}function C(){var a,b;return b=d(ac),a=fb(),null!==a&&(a=function(){return"equal"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=ib(),null!==a&&(a=function(){return"nequal"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=jb(),null!==a&&(a=function(){return"lequal"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=kb(),null!==a&&(a=function(){return"gequal"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=hb(),null!==a&&(a=function(){return"less"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=gb(),null!==a&&(a=function(){return"great"}(b.offset,b.line,b.column)),null===a&&(ac=d(b))))))),a}function D(){var a,b,c,e;for(c=d(ac),e=d(ac),a=[],b=E();null!==b;)a.push(b),b=E();return null!==a?(b=H(),null!==b?a=[a,b]:(a=null,ac=d(e))):(a=null,ac=d(e)),null!==a&&(a=function(a,b,c,d,e){return $b(d,e)}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(ac=d(c)),a}function E(){var a,b,c,e;return c=d(ac),a=F(),null!==a&&(a=function(a,b,c,d){return{ast:"unary_"+d,loc:[b,c]}}(c.offset,c.line,c.column,a)),null===a&&(ac=d(c)),null===a&&(c=d(ac),e=d(ac),a=H(),null!==a?(b=G(),null!==b?a=[a,b]:(a=null,ac=d(e))):(a=null,ac=d(e)),null!==a&&(a=function(a,b,c,d,e){return{ast:"binary_"+e,loc:[b,c],left:d}}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(ac=d(c))),a}function F(){var a,b;return b=d(ac),a=bb(),null!==a&&(a=function(){return"pos"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=cb(),null!==a&&(a=function(){return"neg"}(b.offset,b.line,b.column)),null===a&&(ac=d(b))),a}function G(){var a,b;return b=d(ac),a=Cb(),null!==a&&(a=function(){return"or"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=bb(),null!==a&&(a=function(){return"plus"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=cb(),null!==a&&(a=function(){return"sub"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)))),a}function H(){var a,b,c,e;for(c=d(ac),e=d(ac),a=[],b=I();null!==b;)a.push(b),b=I();return null!==a?(b=K(),null!==b?a=[a,b]:(a=null,ac=d(e))):(a=null,ac=d(e)),null!==a&&(a=function(a,b,c,d,e){return $b(d,e)}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(ac=d(c)),a}function I(){var a,b,c,e;return c=d(ac),e=d(ac),a=K(),null!==a?(b=J(),null!==b?a=[a,b]:(a=null,ac=d(e))):(a=null,ac=d(e)),null!==a&&(a=function(a,b,c,d,e){return{ast:"binary_"+e,loc:[b,c],left:d}}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(ac=d(c)),a}function J(){var a,b;return b=d(ac),a=db(),null!==a&&(a=function(){return"mult"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=eb(),null!==a&&(a=function(){return"rdiv"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=Ab(),null!==a&&(a=function(){return"idiv"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=Bb(),null!==a&&(a=function(){return"mod"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)),null===a&&(b=d(ac),a=Db(),null!==a&&(a=function(){return"and"}(b.offset,b.line,b.column)),null===a&&(ac=d(b)))))),a}function K(){var a,b,c,e,f;return e=d(ac),f=d(ac),a=Eb(),null!==a?(b=K(),null!==b?a=[a,b]:(a=null,ac=d(f))):(a=null,ac=d(f)),null!==a&&(a=function(a,b,c,d){return{ast:"unary_not",loc:[b,c],right:d}}(e.offset,e.line,e.column,a[1])),null===a&&(ac=d(e)),null===a&&(a=L(),null===a&&(a=P(),null===a&&(e=d(ac),a=W(),null!==a?(b=A(),null!==b?(c=X(),null!==c?a=[a,b,c]:(a=null,ac=d(e))):(a=null,ac=d(e))):(a=null,ac=d(e)),null===a&&(a=O())))),a}function L(){var a,b,c,e;return c=d(ac),e=d(ac),a=Gb(),null!==a?(b=M(),null!==b?a=[a,b]:(a=null,ac=d(e))):(a=null,ac=d(e)),null!==a&&(a=function(a,b,c,d,e){return{ast:"sub_invocation",loc:[b,c],name:d,params:e}}(c.offset,c.line,c.column,a[0],a[1])),null===a&&(ac=d(c)),a}function M(){var a,b,c,e,f;return e=d(ac),f=d(ac),a=W(),null!==a?(b=N(),null!==b?(c=X(),null!==c?a=[a,b,c]:(a=null,ac=d(f))):(a=null,ac=d(f))):(a=null,ac=d(f)),null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(ac=d(e)),a}function N(){var a,b,c,e,f,g,h,i;if(f=d(ac),g=d(ac),a=A(),null!==a){for(b=[],h=d(ac),i=d(ac),c=$(),null!==c?(e=A(),null!==e?c=[c,e]:(c=null,ac=d(i))):(c=null,ac=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(ac=d(h));null!==c;)b.push(c),h=d(ac),i=d(ac),c=$(),null!==c?(e=A(),null!==e?c=[c,e]:(c=null,ac=d(i))):(c=null,ac=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(ac=d(h));null!==b?a=[a,b]:(a=null,ac=d(g))}else a=null,ac=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(ac=d(f)),null===a&&(f=d(ac),g=d(ac),a=[],null!==a&&(a=function(){return[]}(f.offset,f.line,f.column)),null===a&&(ac=d(f))),a}function O(){var a;return a=Jb(),null===a&&(a=Ib(),null===a&&(a=Lb())),a}function P(){var a,b,c,e,f;if(e=d(ac),f=d(ac),a=Gb(),null!==a){for(b=[],c=Q();null!==c;)b.push(c),c=Q();null!==b?a=[a,b]:(a=null,ac=d(f))}else a=null,ac=d(f);return null!==a&&(a=function(a,b,c,d){return{ast:"variable",loc:[b,c],name:d}}(e.offset,e.line,e.column,a[0],a[1])),null===a&&(ac=d(e)),a}function Q(){var a;return a=T(),null===a&&(a=R()),a}function R(){var a,b,c,e,f;return e=d(ac),f=d(ac),a=Y(),null!==a?(b=S(),null!==b?(c=Z(),null!==c?a=[a,b,c]:(a=null,ac=d(f))):(a=null,ac=d(f))):(a=null,ac=d(f)),null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(ac=d(e)),a}function S(){var a,b,c,e,f,g,h,i;if(f=d(ac),g=d(ac),a=A(),null!==a){for(b=[],h=d(ac),i=d(ac),c=$(),null!==c?(e=A(),null!==e?c=[c,e]:(c=null,ac=d(i))):(c=null,ac=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(ac=d(h));null!==c;)b.push(c),h=d(ac),i=d(ac),c=$(),null!==c?(e=A(),null!==e?c=[c,e]:(c=null,ac=d(i))):(c=null,ac=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(ac=d(h));null!==b?a=[a,b]:(a=null,ac=d(g))}else a=null,ac=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(ac=d(f)),a}function T(){var a,b,c,e;return c=d(ac),e=d(ac),a=V(),null!==a?(b=Gb(),null!==b?a=[a,b]:(a=null,ac=d(e))):(a=null,ac=d(e)),null!==a&&(a=function(a,b,c,d){return{ast:"record_access",loc:[b,c],field:d}}(c.offset,c.line,c.column,a[1])),null===a&&(ac=d(c)),a}function U(){var a,b;return b=d(ac),a=Gb(),null!==a&&(a=function(a,b,c,d){return{ast:"named_type",loc:[b,c],name:d}}(b.offset,b.line,b.column,a)),null===a&&(ac=d(b)),a}function V(){var a,c,g;return g=d(ac),46===b.charCodeAt(ac.offset)?(a=".",e(ac,1)):(a=null,0===bc&&f('"."')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function W(){var a,c,g;return g=d(ac),40===b.charCodeAt(ac.offset)?(a="(",e(ac,1)):(a=null,0===bc&&f('"("')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function X(){var a,c,g;return g=d(ac),41===b.charCodeAt(ac.offset)?(a=")",e(ac,1)):(a=null,0===bc&&f('")"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function Y(){var a,c,g;return g=d(ac),91===b.charCodeAt(ac.offset)?(a="[",e(ac,1)):(a=null,0===bc&&f('"["')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function Z(){var a,c,g;return g=d(ac),93===b.charCodeAt(ac.offset)?(a="]",e(ac,1)):(a=null,0===bc&&f('"]"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function $(){var a,c,g;return g=d(ac),44===b.charCodeAt(ac.offset)?(a=",",e(ac,1)):(a=null,0===bc&&f('","')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function _(){var a,c,g;return g=d(ac),58===b.charCodeAt(ac.offset)?(a=":",e(ac,1)):(a=null,0===bc&&f('":"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function ab(){var a,c,g;return g=d(ac),59===b.charCodeAt(ac.offset)?(a=";",e(ac,1)):(a=null,0===bc&&f('";"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function bb(){var a,c,g;return g=d(ac),43===b.charCodeAt(ac.offset)?(a="+",e(ac,1)):(a=null,0===bc&&f('"+"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function cb(){var a,c,g;return g=d(ac),45===b.charCodeAt(ac.offset)?(a="-",e(ac,1)):(a=null,0===bc&&f('"-"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function db(){var a,c,g;return g=d(ac),42===b.charCodeAt(ac.offset)?(a="*",e(ac,1)):(a=null,0===bc&&f('"*"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function eb(){var a,c,g;return g=d(ac),47===b.charCodeAt(ac.offset)?(a="/",e(ac,1)):(a=null,0===bc&&f('"/"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function fb(){var a,c,g;return g=d(ac),61===b.charCodeAt(ac.offset)?(a="=",e(ac,1)):(a=null,0===bc&&f('"="')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function gb(){var a,c,g;return g=d(ac),62===b.charCodeAt(ac.offset)?(a=">",e(ac,1)):(a=null,0===bc&&f('">"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function hb(){var a,c,g;return g=d(ac),60===b.charCodeAt(ac.offset)?(a="<",e(ac,1)):(a=null,0===bc&&f('"<"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function ib(){var a,c,g;return g=d(ac),"<>"===b.substr(ac.offset,2)?(a="<>",e(ac,2)):(a=null,0===bc&&f('"<>"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function jb(){var a,c,g;return g=d(ac),"<="===b.substr(ac.offset,2)?(a="<=",e(ac,2)):(a=null,0===bc&&f('"<="')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function kb(){var a,c,g;return g=d(ac),">="===b.substr(ac.offset,2)?(a=">=",e(ac,2)):(a=null,0===bc&&f('">="')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function lb(){var a,c,g;return g=d(ac),":="===b.substr(ac.offset,2)?(a=":=",e(ac,2)):(a=null,0===bc&&f('":="')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function mb(){var a,c,g;return g=d(ac),".."===b.substr(ac.offset,2)?(a="..",e(ac,2)):(a=null,0===bc&&f('".."')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function nb(){var a,c,g;return g=d(ac),"program"===b.substr(ac.offset,7)?(a="program",e(ac,7)):(a=null,0===bc&&f('"program"')),null!==a?(c=Ub(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function ob(){var a,c,g;return g=d(ac),"begin"===b.substr(ac.offset,5)?(a="begin",e(ac,5)):(a=null,0===bc&&f('"begin"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function pb(){var a,c,g;return g=d(ac),"end"===b.substr(ac.offset,3)?(a="end",e(ac,3)):(a=null,0===bc&&f('"end"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function qb(){var a,c,g;return g=d(ac),"const"===b.substr(ac.offset,5)?(a="const",e(ac,5)):(a=null,0===bc&&f('"const"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function rb(){var a,c,g;return g=d(ac),"type"===b.substr(ac.offset,4)?(a="type",e(ac,4)):(a=null,0===bc&&f('"type"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function sb(){var a,c,g;return g=d(ac),"var"===b.substr(ac.offset,3)?(a="var",e(ac,3)):(a=null,0===bc&&f('"var"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function tb(){var a,c,g;return g=d(ac),"procedure"===b.substr(ac.offset,9)?(a="procedure",e(ac,9)):(a=null,0===bc&&f('"procedure"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function ub(){var a,c,g;return g=d(ac),"function"===b.substr(ac.offset,8)?(a="function",e(ac,8)):(a=null,0===bc&&f('"function"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function vb(){var a,c,g;return g=d(ac),"if"===b.substr(ac.offset,2)?(a="if",e(ac,2)):(a=null,0===bc&&f('"if"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function wb(){var a,c,g;return g=d(ac),"then"===b.substr(ac.offset,4)?(a="then",e(ac,4)):(a=null,0===bc&&f('"then"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function xb(){var a,c,g;return g=d(ac),"else"===b.substr(ac.offset,4)?(a="else",e(ac,4)):(a=null,0===bc&&f('"else"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function yb(){var a,c,g;return g=d(ac),"while"===b.substr(ac.offset,5)?(a="while",e(ac,5)):(a=null,0===bc&&f('"while"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function zb(){var a,c,g;return g=d(ac),"do"===b.substr(ac.offset,2)?(a="do",e(ac,2)):(a=null,0===bc&&f('"do"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function Ab(){var a,c,g;return g=d(ac),"div"===b.substr(ac.offset,3)?(a="div",e(ac,3)):(a=null,0===bc&&f('"div"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function Bb(){var a,c,g;return g=d(ac),"mod"===b.substr(ac.offset,3)?(a="mod",e(ac,3)):(a=null,0===bc&&f('"mod"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function Cb(){var a,c,g;return g=d(ac),"or"===b.substr(ac.offset,2)?(a="or",e(ac,2)):(a=null,0===bc&&f('"or"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function Db(){var a,c,g;return g=d(ac),"and"===b.substr(ac.offset,3)?(a="and",e(ac,3)):(a=null,0===bc&&f('"and"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function Eb(){var a,c,g;return g=d(ac),"not"===b.substr(ac.offset,3)?(a="not",e(ac,3)):(a=null,0===bc&&f('"not"')),null!==a?(c=Tb(),null!==c?a=[a,c]:(a=null,ac=d(g))):(a=null,ac=d(g)),a}function Fb(){var a;return"begin"===b.substr(ac.offset,5)?(a="begin",e(ac,5)):(a=null,0===bc&&f('"begin"')),null===a&&("end"===b.substr(ac.offset,3)?(a="end",e(ac,3)):(a=null,0===bc&&f('"end"')),null===a&&("const"===b.substr(ac.offset,5)?(a="const",e(ac,5)):(a=null,0===bc&&f('"const"')),null===a&&("type"===b.substr(ac.offset,4)?(a="type",e(ac,4)):(a=null,0===bc&&f('"type"')),null===a&&("var"===b.substr(ac.offset,3)?(a="var",e(ac,3)):(a=null,0===bc&&f('"var"')),null===a&&("procedure"===b.substr(ac.offset,9)?(a="procedure",e(ac,9)):(a=null,0===bc&&f('"procedure"')),null===a&&("function"===b.substr(ac.offset,8)?(a="function",e(ac,8)):(a=null,0===bc&&f('"function"')),null===a&&("if"===b.substr(ac.offset,2)?(a="if",e(ac,2)):(a=null,0===bc&&f('"if"')),null===a&&("then"===b.substr(ac.offset,4)?(a="then",e(ac,4)):(a=null,0===bc&&f('"then"')),null===a&&("else"===b.substr(ac.offset,4)?(a="else",e(ac,4)):(a=null,0===bc&&f('"else"')),null===a&&("while"===b.substr(ac.offset,5)?(a="while",e(ac,5)):(a=null,0===bc&&f('"while"')),null===a&&("do"===b.substr(ac.offset,2)?(a="do",e(ac,2)):(a=null,0===bc&&f('"do"')),null===a&&("div"===b.substr(ac.offset,3)?(a="div",e(ac,3)):(a=null,0===bc&&f('"div"')),null===a&&("mod"===b.substr(ac.offset,3)?(a="mod",e(ac,3)):(a=null,0===bc&&f('"mod"')),null===a&&("or"===b.substr(ac.offset,2)?(a="or",e(ac,2)):(a=null,0===bc&&f('"or"')),null===a&&("and"===b.substr(ac.offset,3)?(a="and",e(ac,3)):(a=null,0===bc&&f('"and"')),null===a&&("not"===b.substr(ac.offset,3)?(a="not",e(ac,3)):(a=null,0===bc&&f('"not"')))))))))))))))))),a}function Gb(){var a,b,c,e,g,h;return bc++,e=d(ac),g=d(ac),h=d(ac),bc++,a=Fb(),bc--,null===a?a="":(a=null,ac=d(h)),null!==a?(b=Hb(),null!==b?(c=Tb(),null!==c?a=[a,b,c]:(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g)),null!==a&&(a=function(a,b,c,d){return d}(e.offset,e.line,e.column,a[1])),null===a&&(ac=d(e)),bc--,0===bc&&null===a&&f("identifier"),a}function Hb(){var a,c,g,h,i;if(h=d(ac),i=d(ac),/^[A-Za-z]/.test(b.charAt(ac.offset))?(a=b.charAt(ac.offset),e(ac,1)):(a=null,0===bc&&f("[A-Za-z]")),null!==a){for(c=[],/^[A-Za-z0-9]/.test(b.charAt(ac.offset))?(g=b.charAt(ac.offset),e(ac,1)):(g=null,0===bc&&f("[A-Za-z0-9]"));null!==g;)c.push(g),/^[A-Za-z0-9]/.test(b.charAt(ac.offset))?(g=b.charAt(ac.offset),e(ac,1)):(g=null,0===bc&&f("[A-Za-z0-9]"));null!==c?a=[a,c]:(a=null,ac=d(i))}else a=null,ac=d(i);return null!==a&&(a=function(a,b,c,d){return d[0]+d[1].join("")}(h.offset,h.line,h.column,a)),null===a&&(ac=d(h)),a}function Ib(){var a,b,c,e;return c=d(ac),e=d(ac),a=Kb(),null!==a?(b=Tb(),null!==b?a=[a,b]:(a=null,ac=d(e))):(a=null,ac=d(e)),null!==a&&(a=function(a,b,c,d){return{ast:"integer",loc:[b,c],val:parseInt(d,10)}}(c.offset,c.line,c.column,a[0])),null===a&&(ac=d(c)),a}function Jb(){var a,c,g,h,i,j;return bc++,i=d(ac),j=d(ac),a=Kb(),null!==a?(46===b.charCodeAt(ac.offset)?(c=".",e(ac,1)):(c=null,0===bc&&f('"."')),null!==c?(g=Kb(),null!==g?(h=Tb(),null!==h?a=[a,c,g,h]:(a=null,ac=d(j))):(a=null,ac=d(j))):(a=null,ac=d(j))):(a=null,ac=d(j)),null!==a&&(a=function(a,b,c,d,e){return{ast:"real",loc:[b,c],val:parseFloat(d+"."+e,10)}}(i.offset,i.line,i.column,a[0],a[2])),null===a&&(ac=d(i)),bc--,0===bc&&null===a&&f("real"),a}function Kb(){var a,c,g;if(bc++,g=d(ac),/^[0-9]/.test(b.charAt(ac.offset))?(c=b.charAt(ac.offset),e(ac,1)):(c=null,0===bc&&f("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(ac.offset))?(c=b.charAt(ac.offset),e(ac,1)):(c=null,0===bc&&f("[0-9]"));else a=null;return null!==a&&(a=function(a,b,c,d){return d.join("")}(g.offset,g.line,g.column,a)),null===a&&(ac=d(g)),bc--,0===bc&&null===a&&f("digits"),a}function Lb(){var a,c,g,h,i,j;if(i=d(ac),j=d(ac),39===b.charCodeAt(ac.offset)?(a="'",e(ac,1)):(a=null,0===bc&&f('"\'"')),null!==a){for(c=[],g=Mb();null!==g;)c.push(g),g=Mb();null!==c?(39===b.charCodeAt(ac.offset)?(g="'",e(ac,1)):(g=null,0===bc&&f('"\'"')),null!==g?(h=Tb(),null!==h?a=[a,c,g,h]:(a=null,ac=d(j))):(a=null,ac=d(j))):(a=null,ac=d(j))}else a=null,ac=d(j);return null!==a&&(a=function(a,b,c,d){return{ast:"string",loc:[b,c],val:d.join("")}}(i.offset,i.line,i.column,a[1])),null===a&&(ac=d(i)),a}function Mb(){var a;return a=Nb(),null===a&&(a=Ob()),a}function Nb(){var a,c,g,h,i;return g=d(ac),h=d(ac),i=d(ac),bc++,39===b.charCodeAt(ac.offset)?(a="'",e(ac,1)):(a=null,0===bc&&f('"\'"')),null===a&&(a=Xb(),null===a&&(92===b.charCodeAt(ac.offset)?(a="\\",e(ac,1)):(a=null,0===bc&&f('"\\\\"')))),bc--,null===a?a="":(a=null,ac=d(i)),null!==a?(b.length>ac.offset?(c=b.charAt(ac.offset),e(ac,1)):(c=null,0===bc&&f("any character")),null!==c?a=[a,c]:(a=null,ac=d(h))):(a=null,ac=d(h)),null!==a&&(a=function(a,b,c,d){return d}(g.offset,g.line,g.column,a[1])),null===a&&(ac=d(g)),a}function Ob(){var a,c,g,h;return g=d(ac),h=d(ac),92===b.charCodeAt(ac.offset)?(a="\\",e(ac,1)):(a=null,0===bc&&f('"\\\\"')),null!==a?(c=Pb(),null!==c?a=[a,c]:(a=null,ac=d(h))):(a=null,ac=d(h)),null!==a&&(a=function(a,b,c,d){return d}(g.offset,g.line,g.column,a[1])),null===a&&(ac=d(g)),a}function Pb(){var a,c;return c=d(ac),110===b.charCodeAt(ac.offset)?(a="n",e(ac,1)):(a=null,0===bc&&f('"n"')),null!==a&&(a=function(){return"\n"}(c.offset,c.line,c.column)),null===a&&(ac=d(c)),null===a&&(c=d(ac),39===b.charCodeAt(ac.offset)?(a="'",e(ac,1)):(a=null,0===bc&&f('"\'"')),null!==a&&(a=function(){return"'"}(c.offset,c.line,c.column)),null===a&&(ac=d(c)),null===a&&(c=d(ac),92===b.charCodeAt(ac.offset)?(a="\\",e(ac,1)):(a=null,0===bc&&f('"\\\\"')),null!==a&&(a=function(){return"\\"}(c.offset,c.line,c.column)),null===a&&(ac=d(c)))),a}function Qb(){var a,b,c,e,f;return e=d(ac),f=d(ac),a=W(),null!==a?(b=Rb(),b=null!==b?b:"",null!==b?(c=X(),null!==c?a=[a,b,c]:(a=null,ac=d(f))):(a=null,ac=d(f))):(a=null,ac=d(f)),null!==a&&(a=function(a,b,c,d){return d||[]}(e.offset,e.line,e.column,a[1])),null===a&&(ac=d(e)),a}function Rb(){var a,b,c,e,f,g,h,i;if(f=d(ac),g=d(ac),a=Sb(),null!==a){for(b=[],h=d(ac),i=d(ac),c=ab(),null!==c?(e=Sb(),null!==e?c=[c,e]:(c=null,ac=d(i))):(c=null,ac=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(ac=d(h));null!==c;)b.push(c),h=d(ac),i=d(ac),c=ab(),null!==c?(e=Sb(),null!==e?c=[c,e]:(c=null,ac=d(i))):(c=null,ac=d(i)),null!==c&&(c=function(a,b,c,d){return d}(h.offset,h.line,h.column,c[1])),null===c&&(ac=d(h));null!==b?a=[a,b]:(a=null,ac=d(g))}else a=null,ac=d(g);return null!==a&&(a=function(a,b,c,d,e){return[d].concat(e)}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(ac=d(f)),a}function Sb(){var a,b,c,e,f,g;return f=d(ac),g=d(ac),a=sb(),a=null!==a?a:"",null!==a?(b=Gb(),null!==b?(c=_(),null!==c?(e=U(),null!==e?a=[a,b,c,e]:(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g))):(a=null,ac=d(g)),null!==a&&(a=function(a,b,c,d){return{ast:"formal_parameter",loc:[b,c],reference:!!d}}(f.offset,f.line,f.column,a[0],a[1])),null===a&&(ac=d(f)),a}function Tb(){var a,b,c;for(c=d(ac),a=[],b=Ub();null!==b;)a.push(b),b=Ub();return null!==a&&(a=function(){}(c.offset,c.line,c.column)),null===a&&(ac=d(c)),a}function Ub(){var a;return a=Vb(),null===a&&(a=Wb(),null===a&&(a=Xb())),a}function Vb(){var a,c,g,h,i,j,k;if(bc++,i=d(ac),123===b.charCodeAt(ac.offset)?(a="{",e(ac,1)):(a=null,0===bc&&f('"{"')),null!==a){for(c=[],j=d(ac),k=d(ac),bc++,125===b.charCodeAt(ac.offset)?(g="}",e(ac,1)):(g=null,0===bc&&f('"}"')),bc--,null===g?g="":(g=null,ac=d(k)),null!==g?(b.length>ac.offset?(h=b.charAt(ac.offset),e(ac,1)):(h=null,0===bc&&f("any character")),null!==h?g=[g,h]:(g=null,ac=d(j))):(g=null,ac=d(j));null!==g;)c.push(g),j=d(ac),k=d(ac),bc++,125===b.charCodeAt(ac.offset)?(g="}",e(ac,1)):(g=null,0===bc&&f('"}"')),bc--,null===g?g="":(g=null,ac=d(k)),null!==g?(b.length>ac.offset?(h=b.charAt(ac.offset),e(ac,1)):(h=null,0===bc&&f("any character")),null!==h?g=[g,h]:(g=null,ac=d(j))):(g=null,ac=d(j));null!==c?(125===b.charCodeAt(ac.offset)?(g="}",e(ac,1)):(g=null,0===bc&&f('"}"')),null!==g?a=[a,c,g]:(a=null,ac=d(i))):(a=null,ac=d(i))}else a=null,ac=d(i);return bc--,0===bc&&null===a&&f("comment"),a}function Wb(){var a;return bc++,/^[ \t]/.test(b.charAt(ac.offset))?(a=b.charAt(ac.offset),e(ac,1)):(a=null,0===bc&&f("[ \\t]")),bc--,0===bc&&null===a&&f("whitespace"),a}function Xb(){var a;return bc++,10===b.charCodeAt(ac.offset)?(a="\n",e(ac,1)):(a=null,0===bc&&f('"\\n"')),bc--,0===bc&&null===a&&f("end of line"),a}function Yb(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function Zb(a){var b=a.shift();return a.length?(b.right=Zb(a),b):b}function $b(a,b){return a.push(b),Zb(a)}var _b={program:g,program_head:h,program_files:i,declarations:j,const_decls:k,type_decls:l,var_decls:m,sub_decls:n,subroutine:o,function_decl:p,procedure_decl:q,const_decl:r,type_decl:s,var_decl:t,compound_stat:u,statements:v,statement:w,conditional:x,while_loop:y,assignment:z,expression:A,comparative_expression:B,comparison_op:C,simple_expr:D,additive_expression:E,term_prefix:F,additive_op:G,term:H,multiplicative_expression:I,multiplicative_op:J,factor:K,sub_invocation:L,params:M,param_list:N,unsigned_const:O,variable:P,variable_rest:Q,array_access:R,expression_list:S,record_access:T,simple_type:U,period:V,lparen:W,rparen:X,lbrack:Y,rbrack:Z,comma:$,colon:_,smcln:ab,plus:bb,sub:cb,mult:db,rdiv:eb,equal:fb,great:gb,less:hb,nequal:ib,lequal:jb,gequal:kb,assign:lb,range:mb,program_keyword:nb,begin:ob,end:pb,"const":qb,type:rb,"var":sb,procedure:tb,"function":ub,"if":vb,then:wb,"else":xb,"while":yb,"do":zb,div:Ab,mod:Bb,or:Cb,and:Db,not:Eb,keyword:Fb,identifier:Gb,id_text:Hb,integer:Ib,real:Jb,digits:Kb,string:Lb,string_char:Mb,normal_string_char:Nb,string_escape:Ob,escaped_char:Pb,formal_param_list:Qb,formal_params:Rb,formal_param:Sb,__:Tb,token_sep:Ub,multiline_comment:Vb,whitespace:Wb,eol:Xb};if(void 0!==c){if(void 0===_b[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="program";var ac={offset:0,line:1,column:1,seenCR:!1},bc=0,cc={offset:0,line:1,column:1,seenCR:!1},dc=[],ec=_b[c]();if(null===ec||ac.offset!==b.length){var fc=Math.max(ac.offset,cc.offset),gc=fc<b.length?b.charAt(fc):null,hc=ac.offset>cc.offset?ac:cc;throw new this.SyntaxError(Yb(dc),gc,fc,hc.line,hc.column)}return ec},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;
switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}(),function(){var a,b,c;b=function(a,c){return null==c&&(c={}),b.parse(a)},b.parse=function(b){var c,d,e,f;f={output:null,error:null};try{c=PalParser.parse(b,"program")}catch(g){return e=g,f.error=e,f}return d=new a,f.output=d.compile(c),f},c=function(a,b){switch(!1){case null==("undefined"!=typeof module&&null!==module?module.exports:void 0):return module.exports=a;case"undefined"==typeof window||null===window:return window[b]=a}},c(b,"PalCompiler"),a=function(){function a(){this.indentAmount="  "}return a.prototype.compile=function(a){return this.indent="  ",this.visit(a)},a.makeBinOp=function(a){return function(b){return["(",this.visit(b.left),a,this.visit(b.right),")"]}},a.makeWrappedSubroutine=function(a){return function(b){var c,d,e,f;return f=[],e=b.name,d="function "+e+"("+f.join(", ")+") {\n",c=this.indentThis(function(c){return function(){return a.call(c,c.visit(b.declarations,"$body"),b)}}(this)),[this.indent,d,c,this.indent,"}\n"]}},a.actions={program:function(a){return["(function (_input, _output) {\n",this.visit(a.declarations),"})"]},declarations:function(a){return this.visit(a,"$body")},$body:function(a){var b,c,d,e;return e=[],d=function(){var b,d,e,f;for(e=a.subroutines,f=[],b=0,d=e.length;d>b;b++)c=e[b],f.push(this.visit(c));return f}.call(this),b=this.visit(a.body,"$stmt"),[].concat(e,d,b)},$stmt:function(a){return a?[this.indent,this.visit(a),";\n"]:""},procedure:a.makeWrappedSubroutine(function(a){return a}),"function":a.makeWrappedSubroutine(function(a,b){var c;return c="$$"+b.name,[this.indent,"var "+c+";\n",a,this.indent,"return "+c+";\n"].join("")}),"if":function(a){var b,c,d,e,f;return c=["if (",this.visit(a.condition),") {\n"],b=this.indentThis(function(c){return function(){return b=c.visit(a.consequent,"$stmt")}}(this)),e=null!=a.alternative?(f=[this.indent,"} else {\n"],d=this.indentThis(function(b){return function(){return b.visit(a.alternative,"$stmt")}}(this)),f.concat(d)):[],c.concat(b,e,this.indent,"}")},"while":function(a){var b,c;return c=["while (",this.visit(a.condition),") {\n"],b=this.indentThis(function(b){return function(){return b.visit(a.body,"$stmt")}}(this)),c.concat([b,this.indent,"}"])},sub_invocation:function(a){var b,c,d,e;return d=function(){var c,d,e,f;for(e=a.params,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(this.visit(b));return f}.call(this),c=d.join(", "),e="writeln"===a.name?"_output":"_"+a.name,""+e+"("+c+")"},string:function(a){var b;return b=a.val,"'"+b.replace(/[\\'"]/,"//$&")+"'"},integer:function(a){return a.val.toString()},real:function(a){return a.val.toString()},binary_equal:a.makeBinOp("==="),binary_nequal:a.makeBinOp("!=="),binary_gequal:a.makeBinOp(">="),binary_lequal:a.makeBinOp("<="),binary_great:a.makeBinOp(">"),binary_less:a.makeBinOp("<"),binary_plus:a.makeBinOp("+"),binary_sub:a.makeBinOp("-"),binary_or:a.makeBinOp("||"),binary_mult:a.makeBinOp("*"),binary_rdiv:a.makeBinOp("/"),binary_mod:a.makeBinOp("%"),binary_and:a.makeBinOp("&&"),binary_idiv:function(a){return["(~~(",this.visit(a.left),"/",this.visit(a.right),"))"]},unary_pos:function(a){return this.visit(a.right)},unary_neg:function(a){return["(-",this.visit(a.right),")"]},unary_not:function(a){return["(!",this.visit(a.right),")"]}},a.prototype.visit=function(b,c){var d,e,f,g,h;return null==c&&(c=null),Array.isArray(b)?function(){var a,d,e;for(e=[],a=0,d=b.length;d>a;a++)g=b[a],e.push(this.visit(g,c));return e}.call(this).join(""):(f=c||b.ast,d=a.actions,null!=f&&null!=d[f]?(h=d[f],e=h.call(this,b),null!=e.join?e.join(""):e):(console.warn("No action for",b),""))},a.prototype.indentThis=function(a){var b,c;return b=this.indent,this.indent+=this.indentAmount,c=a(),this.indent=b,c},a}()}.call(this);